sync:
  description: Synchornize a lips in a video with different audio.
  main:  inference --checkpoint_path wav2lip.pth --outfile synced.mp4
  flags-import: no
  flags:
    face:
      description: Video of face to sync with audio
      required: yes
      type: existing-path
    audio:
      description: Audio track used to sync lips in face video
      required: yes
      type: existing-path
  requires:
    - url: https://www.adrianbulat.com/downloads/python-fan/s3fd-619a316812.pth
      path: .guild/sourcecode/face_detection/detection/sfd/
      rename: s3fd-619a316812.pth s3fd.pth
      sha256: 619a31681264d3f7f7fc7a16a42cbbe8b23f31a256f75a366e5a1bcd59b33543
    - file: checkpoints/wav2lip.pth
      help: |
        wav2lip.pth is required for this operation. Download it from
        https://bit.ly/3hpepSa. Save it to the checkpoints
        directory. Re-run the operation when checkpoints/wav2lip.pth
        is available.
    # Hacks to create required directories temp. Upstream script could
    # be modified to create these lazily or to parameterize.
    - file: temp/README.md
      path: temp
